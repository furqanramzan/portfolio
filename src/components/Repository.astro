---
import { type CollectionEntry, getEntries } from 'astro:content';
import Skill from './Skill.astro';
import { sortByOrder } from '@/utils/sort';

interface Props {
  repository: CollectionEntry<'repository'>;
}

const { repository } = Astro.props;
const skills = sortByOrder(await getEntries(repository.data.skills));
---

<div class="flex gap-5 bg-gray-200 p-5 dark:bg-gray-800">
  <div class="flex flex-col gap-1">
    <h3 class="text-xl font-semibold">{repository.data.name}</h3>
    <p class="text-gray-500">{repository.data.description}</p>
    <div class="flex flex-wrap gap-2">
      {skills.map((x) => <Skill skill={x} />)}
    </div>
  </div>
</div>
