---
import { getCollection, getEntry } from 'astro:content';
import Page from '@/layouts/Page.astro';
import RepositoryItem from '@/components/Repository.astro';
import { sortByOrder } from '@/utils/sort';

const content = await getEntry('page', 'repository');
const repositories = sortByOrder(await getCollection('repository'));
---

<Page navigationLinks={{ back: 'project', forward: 'educationandexperience' }}>
  <div class="flex flex-col gap-5">
    <h2 class="text-lg font-semibold">{content.data.title}</h2>
    <div class="flex flex-col gap-3">
      {
        repositories.map((repository) => (
          <RepositoryItem repository={repository} />
        ))
      }
    </div>
  </div>
</Page>
